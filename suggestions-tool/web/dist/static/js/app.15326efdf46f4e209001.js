webpackJsonp([1],{"3kyk":function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("h2",[this._v("GAZEBO DOCUMENTATION INDEX")]),this._v(" "),t("h3",[this._v("BITBUCKET ISSUE TRACKER")]),this._v(" "),t("br"),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var n=s("VU/8")({name:"App"},o,!1,function(e){s("gKi7")},null,null).exports,i=s("/ocq"),a=s("fZjL"),c=s.n(a),u=s("mtWM"),d=s.n(u),l={name:"IssueTracker",data:function(){return{issues:[],checkedIssues:[],showTitle:!0,showContent:!1,showKeywords:!0,url:"/issues",loading:!0,page:null,marked:[],sort:null,status:!1,error:!1,errorMsg:"",category_list:[],status_msg:""}},methods:{update:function(){var e=this;Array.prototype.diff=function(e){return this.filter(function(t){return e.indexOf(t)<0})};var t=this,s=this.issues.filter(function(e){return-1!==c()(e).indexOf("index_category")&&void 0!==e.index_category}),r=s.map(function(e){return e.id}),o=s.map(function(e){return{id:e.id,index_category:e.index_category}}),n=[];this.marked.forEach(function(e){var s=t.issues.find(function(t){return t.id===e[0]});s&&e[1]!==s.index_category&&n.push({id:e[0],new_category:s.index_category})});var i=r.diff(this.checkedIssues),a=o.filter(function(e){return i.includes(e.id)});a.length>0||n.length>0?d.a.post(this.url+"/update",{newly_marked:a,changed_categories:n}).then(function(s){setTimeout(e.refresh,300),t.status=!0,t.status_msg="Successfuly updated!"}).catch(function(e){return console.error(e)}):(t.status=!0,t.status_msg="There are no changes to update!")},refresh:function(){this.$router.go()},next:function(){this.page+=1,window.location.href="?sort="+this.sort+"&page="+this.page},previous:function(){this.page-=1,window.location.href="?sort="+this.sort+"&page="+this.page},sortVoted:function(){this.sort="votes",this.page=1,window.location.href="?sort="+this.sort},sortUpdated:function(){this.sort="updated",this.page=1,window.location.href="?sort="+this.sort}},created:function(){this.url="/issues";var e=this;void 0!==this.$route.query.page?this.page=this.$route.query.page:this.page=1,void 0!==this.$route.query.sort?this.sort=this.$route.query.sort:this.sort="votes",fetch(this.url+"?page="+this.page+"&sort="+this.sort).then(function(e){return e.json()}).then(function(t){for(var s in e.category_list=t.category_list,e.issues=t.values,e.page=t.page,e.marked=t.bb_completed,e.issues){var r;t.bb_completed.find(function(t){return r=t[1],t[0]===e.issues[s].id})&&(e.checkedIssues.push(e.issues[s].id),e.issues[s].index_category=r)}e.loading=!1}).catch(function(t){e.loading=!1,e.error=!0,e.errorMsg=t,console.error(t)})},watch:{checkedIssues:function(){}}},h={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hello"},[s("div",{staticStyle:{"margin-bottom":"10px"}},[s("button",{attrs:{disabled:"votes"==e.sort||e.loading||e.error},on:{click:function(t){return e.sortVoted()}}},[e._v("SORT BY VOTED")]),e._v(" "),s("button",{attrs:{disabled:"updated"==e.sort||e.loading||e.error},on:{click:function(t){return e.sortUpdated()}}},[e._v("SORT BY UPDATED")])]),e._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.showTitle,expression:"showTitle"}],attrs:{type:"checkbox",disabled:e.loading||e.error},domProps:{checked:Array.isArray(e.showTitle)?e._i(e.showTitle,null)>-1:e.showTitle},on:{change:function(t){var s=e.showTitle,r=t.target,o=!!r.checked;if(Array.isArray(s)){var n=e._i(s,null);r.checked?n<0&&(e.showTitle=s.concat([null])):n>-1&&(e.showTitle=s.slice(0,n).concat(s.slice(n+1)))}else e.showTitle=o}}}),e._v("\n    Show title\n\n    "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.showContent,expression:"showContent"}],attrs:{type:"checkbox",disabled:e.loading||e.error},domProps:{checked:Array.isArray(e.showContent)?e._i(e.showContent,null)>-1:e.showContent},on:{change:function(t){var s=e.showContent,r=t.target,o=!!r.checked;if(Array.isArray(s)){var n=e._i(s,null);r.checked?n<0&&(e.showContent=s.concat([null])):n>-1&&(e.showContent=s.slice(0,n).concat(s.slice(n+1)))}else e.showContent=o}}}),e._v("\n    Show content\n\n    "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.showKeywords,expression:"showKeywords"}],attrs:{type:"checkbox",disabled:e.loading||e.error},domProps:{checked:Array.isArray(e.showKeywords)?e._i(e.showKeywords,null)>-1:e.showKeywords},on:{change:function(t){var s=e.showKeywords,r=t.target,o=!!r.checked;if(Array.isArray(s)){var n=e._i(s,null);r.checked?n<0&&(e.showKeywords=s.concat([null])):n>-1&&(e.showKeywords=s.slice(0,n).concat(s.slice(n+1)))}else e.showKeywords=o}}}),e._v("\n    Show keywords\n  "),s("span",{staticStyle:{float:"right"}},[s("input",{attrs:{type:"button",disabled:1==e.page||e.loading||e.error,value:"Previous"},on:{click:function(t){return e.previous()}}}),e._v(" "),s("input",{attrs:{type:"button",disabled:e.loading||e.error,value:"Next"},on:{click:function(t){return e.next()}}}),e._v(" "),s("div",{staticStyle:{"margin-top":"5px"}},[e._v("Page: "+e._s(e.page))])])]),e._v(" "),s("br"),e._v(" "),e._l(e.issues,function(t){return s("ul",{key:t.id},[s("li",[s("div",{style:[e.marked.includes(t.id)||e.checkedIssues.includes(t.id)?{color:"lightgrey"}:{}]},[s("a",{attrs:{href:t.links.html.href,target:"blank"}},[s("b",[e._v("#"+e._s(t.id))])]),e._v(" "),s("br"),s("br"),e._v(" "),e.showTitle?s("span",[s("b",[e._v("Issue-title: ")]),e._v(e._s(t.title)),s("br")]):e._e(),e._v(" "),e.showContent?s("span",[s("b",[e._v("Issue-content: ")]),e._v(e._s(t.content.raw)),s("br")]):e._e(),e._v(" "),e.showKeywords?s("span",[s("b",[e._v("Title and description keywords: ")]),e._l(t.keywords,function(r,o){return t.keywords.length>0?s("span",{key:o,staticStyle:{background:"rgba(221, 183, 189, 0.5)",margin:"3px","line-height":"25px",padding:"2px","border-radius":"5px"}},[e._v(e._s(r))]):e._e()})],2):e._e()]),e._v(" "),s("br"),e._v(" "),s("div",[e._v("Covered in:\n          "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.index_category,expression:"issue.index_category"}],on:{change:function(s){var r=Array.prototype.filter.call(s.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(t,"index_category",s.target.multiple?r:r[0])}}},[s("option",{attrs:{selected:""},domProps:{value:void 0}},[e._v(" -- Select category -- ")]),e._v(" "),e._l(e.category_list,function(t,r){return s("option",{key:r,domProps:{value:t}},[e._v(e._s(t))])})],2)])]),s("hr")])}),e._v(" "),e.loading?s("div",{staticClass:"status"},[s("b",[e._v("Loading..Please wait")])]):e._e(),e._v(" "),e.error?s("div",{staticClass:"status error"},[s("b",[e._v(e._s(e.errorMsg))])]):e._e(),e._v(" "),s("div",{staticClass:"update-msg"},[e.loading?e._e():s("button",{staticStyle:{"text-align":"center"},attrs:{disabled:e.loading||e.error},on:{click:function(t){return e.update()}}},[e._v("UPDATE COMPLETED ISSUES")]),e._v(" "),e.status?s("div",{staticStyle:{color:"#42BA94","text-align":"center"}},[e._v(e._s(e.status_msg))]):e._e()])],2)},staticRenderFns:[]};var v=s("VU/8")(l,h,!1,function(e){s("3kyk")},"data-v-cdfb1b54",null).exports;r.a.use(i.a);var p=new i.a({mode:"history",routes:[{path:"/",name:"IssueTracker",component:v}]});r.a.config.productionTip=!1,new r.a({el:"#app",router:p,components:{App:n},template:"<App/>"})},gKi7:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.15326efdf46f4e209001.js.map